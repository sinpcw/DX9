#include"owlCore.hpp"

//***********************************************************************************************************************************************************************
//		Static	乱数値
//***********************************************************************************************************************************************************************
static	FILE *	_File	= NULL;

//***********************************************************************************************************************************************************************
//		owl::core::DumpInit(wchar_t *)
//			[desc]
//				エラープロファイラを初期化
//			[in]
//				ファイル名
//***********************************************************************************************************************************************************************
void owl::core::DumpInit(const wchar_t *_in){
	if(0 != _wfopen_s(&_File, _in, L"w")){
		exit(0);
	}
}

//***********************************************************************************************************************************************************************
//		owl::core::DumpQuit()
//			[desc]
//				エラープロファイラを閉じる
//***********************************************************************************************************************************************************************
void owl::core::DumpQuit(){
	fclose(_File);
	_File	= NULL;
}

//***********************************************************************************************************************************************************************
//		owl::core::DumpText(wchar_t *, ...)
//			[desc]
//				エラープロファイラを書込
//***********************************************************************************************************************************************************************
void owl::core::DumpText(const wchar_t *_in, ...){
	if(_File != NULL){
		vfwprintf_s(_File, _in, reinterpret_cast<va_list>(&_in + 1));
	}
}
